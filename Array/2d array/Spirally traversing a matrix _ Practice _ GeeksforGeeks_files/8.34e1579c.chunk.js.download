(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[8],{155:function(t,e,a){"use strict";a.r(e);var n=a(51),c=a(52),o=a(57),s=a(56),r=a(0),i=a(62),d=a(58),l=a(43),u=a.n(l),b=a(48),m=a(44),j=a(42),p=a(2),f=a(106),h=(a(73),a(72)),O=a(46),x=a(74),v=a(69),g=a(53),w=a(55),N=a(107),y=a(49),k=a(1);var S=Object(p.g)((function(t){var e=Object(r.useState)(!0),a=Object(j.a)(e,2),n=a[0],c=a[1],o=Object(r.useState)(),s=Object(j.a)(o,2),l=s[0],p=s[1],S=Object(r.useState)(""),C=Object(j.a)(S,2),R=C[0],D=C[1],E=Object(r.useState)(!1),I=Object(j.a)(E,2),L=I[0],_=I[1],U=Object(r.useState)(""),A=Object(j.a)(U,2),M=A[0],K=A[1],P=Object(r.useState)(),J=Object(j.a)(P,2),T=J[0],V=J[1],H=Object(r.useState)("time"),Y=Object(j.a)(H,2),q=Y[0],z=Y[1],B=Object(r.useState)("dsc"),F=Object(j.a)(B,2),G=F[0],Q=F[1],W=Object(r.useState)(),X=Object(j.a)(W,2),Z=X[0],$=X[1],tt=Object(r.useState)(!1),et=Object(j.a)(tt,2),at=et[0],nt=et[1],ct=Object(r.useState)(""),ot=Object(j.a)(ct,2),st=ot[0],rt=ot[1],it=Object(r.useState)(!1),dt=Object(j.a)(it,2),lt=dt[0],ut=dt[1],bt=Object(r.useState)(!1),mt=Object(j.a)(bt,2),jt=mt[0],pt=mt[1],ft=Object(r.useState)(void 0),ht=Object(j.a)(ft,2),Ot=ht[0],xt=ht[1],vt=Object(r.useState)([]),gt=Object(j.a)(vt,2),wt=gt[0],Nt=gt[1];Mt.bind(this),Pt.bind(this);var yt=new URLSearchParams(t.location.search).get("rel"),kt=t.match.params.postId,St=t.match.params.postTitle,Ct=t.match.params.domainName,Rt=Object(r.useRef)(),Dt=Object(r.useRef)();function Et(){return(Et=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.c)().then((function(t){V(Object(b.a)({},t.data))})).catch((function(t){var e,a;403===(null===(e=t.response)||void 0===e?void 0:e.status)&&"Session Expired"==(null===(a=t.response.data)||void 0===a?void 0:a.detail)||(rt("Unable to fetch user details..."),ut(!0))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function It(t){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt(!0),a&&p(),e.next=4,Object(O.b)(q,G,t.match.params.postId,a?"":M,"",void 0,Ct).then((function(t){var e=[];t.data.data.comments.forEach((function(t,a){e.push(t.comment_id)})),Nt(e),p(a?t.data.data.comments:[].concat(Object(d.a)(l),Object(d.a)(t.data.data.comments))),c(t.data.LastEvaluatedKey),K(t.data.LastEvaluatedKey),xt(t.data.total_comments)})).catch((function(t){rt("Unable to fetch comments..."),pt(!0)}));case 4:nt(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(){return(_t=Object(m.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:wt.length&&Ut(wt,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ut(t,e){return At.apply(this,arguments)}function At(){return(At=Object(m.a)(u.a.mark((function t(e,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.d)(e).then((function(t){$(a?t.data:Object(b.a)(Object(b.a)({},Z),t.data))})).catch((function(t){rt("Unable to fetch Vote Status..."),ut(!0)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mt(t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(m.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),n=!1,e.next=4,Object(O.g)(a,"",Ct,t.match.params.postId,yt,St).then((function(t){$(Object(b.a)(Object(b.a)({},Z),{},Object(i.a)({},t.data.comment_id,{vote_type:0}))),p(l?[t.data].concat(Object(d.a)(l)):[t.data]),n=!0,Object(y.b)("Comment saved successfully!")})).catch((function(t){rt("Unable to add comment... Please try again later !!"),ut(!0)}));case 4:return _(!1),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(t,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(m.a)(u.a.mark((function t(e,a){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e!=q&&z(e),a&&Q(a);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(v.b)()})),Object(r.useEffect)((function(){!function(){Et.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){K(""),It(!0)}),[q,G]),Object(r.useEffect)((function(){l&&T&&function(t){_t.apply(this,arguments)}(!0)}),[l,T]),Object(r.useEffect)((function(){(localStorage.getItem("saved-comment-discuss-new-comment-".concat(kt))?localStorage.getItem("saved-comment-discuss-new-comment-".concat(kt)).replaceAll("&nbsp;","").replaceAll("<p>","").replaceAll("</p>","").replaceAll(" ",""):"")||_(!0);var t=localStorage.getItem("saved-comment-discuss-new-comment-".concat(kt));D(t)}),[]),Object(k.jsxs)("section",{ref:Rt,id:"comment-sys",children:[Object(k.jsx)(x.a,{orderData:Pt.bind(this),totalComments:Ot}),function(){return jt?Object(k.jsx)("div",{className:"mt-3",children:Object(k.jsx)("div",{className:"alert alert-danger text-center",role:"alert",children:st})}):l?Object(k.jsxs)("div",{children:[T&&!T.is_ban&&Object(k.jsx)(h.a,{saveComment:Mt.bind(this),disableSubmit:L,userData:T,domain:Ct,height:100,commentData:R,localStorageKey:"saved-comment-discuss-new-comment-".concat(kt)}),lt&&Object(k.jsx)("div",{className:"mt-3",children:Object(k.jsx)("div",{className:"alert alert-danger text-center",role:"alert",children:st})}),!l.length&&Object(k.jsx)("p",{className:"text-center text-secondary mt-3",children:"No Comments to load"}),l.map((function(t,e){return Object(k.jsx)("div",{children:Object(k.jsx)(f.a,{comment:t,userData:T,voteStatus:Z?Z[t.comment_id]:null})},t.comment_id)})),!!n&&!!l.length&&Object(k.jsx)("div",{className:"d-flex justify-content-center mb-3 mt-2",children:Object(k.jsx)("button",{disabled:at,onClick:function(){It(!1)},className:"btn btn-light sofia-pro font-weight-bold",children:"Load More Comments"})})]}):Object(k.jsx)("section",{className:"ml-15 mr-15",children:Object(k.jsx)(N.a,{})})}(),Object(k.jsx)("button",{ref:Dt,id:"back-to-top",className:"btn back-to-top d-none",onClick:function(){Object(v.a)(Rt)},children:Object(k.jsx)(g.a,{className:"text-white",icon:w.b})})]})})),C=function(t){Object(o.a)(r,t);var e=Object(s.a)(r);function r(t){var a;return Object(n.a)(this,r),(a=e.call(this,t)).state={},a}return Object(c.a)(r,[{key:"componentDidMount",value:function(){"dark"===new URLSearchParams(window.location.search).get("mode")&&a.e(9).then(a.t.bind(null,152,7))}},{key:"render",value:function(){return Object(k.jsx)("section",{children:Object(k.jsx)(S,{})})}}]),r}(r.Component);e.default=C},69:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return s}));var n=a(19),c=a.n(n);function o(t){t.current.scrollIntoView({behavior:"smooth"})}function s(){window.onscroll=function(){window.pageYOffset>document.documentElement.clientHeight?c()("#back-to-top").removeClass("d-none"):c()("#back-to-top").addClass("d-none")}}},74:function(t,e,a){"use strict";var n=a(42),c=a(0),o=a(12),s=a(2),r=a(1);e.a=Object(s.g)((function(t){var e=t.orderData,a=t.fireDomainChange,s=Object(c.useState)("Most Recent"),i=Object(n.a)(s,2),d=i[0],l=i[1],u=Object(c.useState)("All Domains"),b=Object(n.a)(u,2),m=b[0],j=b[1],p=encodeURIComponent(t.match.params.domainName),f=encodeURIComponent(t.match.params.postId);return Object(c.useEffect)((function(){}),[]),Object(r.jsx)("section",{className:"ml-15 mr-15",children:Object(r.jsx)("div",{className:"px-0 mb-3",children:Object(r.jsx)("div",{className:"d-flex mx-0",children:Object(r.jsxs)("div",{className:"col-12 px-0",children:[Object(r.jsxs)("h5",{className:"float-left font-weight-bold headingStyle sofia-pro",children:["Discussions",!!t.totalComments&&Object(r.jsxs)("span",{className:"text-secondary ml-2 h6",children:[" ( ",t.totalComments," Threads )"]}),!t.dashboard&&Object(r.jsx)(o.b,{target:"_blank",to:{pathname:"/dashboard?utm-source=".concat(p,"&utm-campaign=").concat(f,"&utm-event=comment-thread")},children:Object(r.jsx)("img",{className:"ml-2 pb-1 external-link-icon",alt:"Click to open dashboard",src:"https://media.geeksforgeeks.org/img-practice/external_link-1629374313.svg"})})]}),Object(r.jsx)("div",{className:"float-right",children:Object(r.jsxs)("div",{className:"dropdown",children:[Object(r.jsx)("button",{className:"sofia-pro btn btn-sm dropdown-toggle font-weight-bold sofia-pro",type:"button",id:"filter-options","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:d}),Object(r.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"filter-options",children:[Object(r.jsx)("button",{onClick:function(){l("Most Recent"),e("time","dsc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Most Recent"}),Object(r.jsx)("button",{onClick:function(){l("Least Recent"),e("time","asc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Least Recent"}),Object(r.jsx)("button",{onClick:function(){l("Most Rated"),e("votes","dsc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Most Rated"})]})]})}),Object(r.jsx)("div",{className:"float-right",children:t.dashboard&&t.domainList&&Object(r.jsxs)("div",{className:"dropdown",children:[Object(r.jsx)("button",{className:"w-100 sofia-pro btn btn-sm dropdown-toggle font-weight-bold sofia-pro",type:"button",id:"filter-options","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:m}),Object(r.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"filter-options",children:[Object(r.jsx)("button",{onClick:function(){j("All Domains"),a("")},className:"dropdown-item font-weight-bold sofia-pro",children:"All Domains"}),t.domainList.map((function(t,e){return Object(r.jsx)("button",{onClick:function(){j(t),a(t)},className:"dropdown-item font-weight-bold sofia-pro",children:t},e)}))]})]})})]})})})})}))}}]);
//# sourceMappingURL=8.34e1579c.chunk.js.map